# Exponential distribution in R #  
### Author: D.Aiazzi ###  
## Overview ##  
We investigate the exponential distribution in R. With the central limit theorem we compare the theoretical population distribution simulated by 'rexp()' with the distribution of 1000 samples of 40 exponentials.  
In particular we want to:  
1. Show the sample mean and compare it to the theoretical mean of the distribution.  
2. Show how variable the sample is (via variance) and compare it to the theoretical variance of the distribution.  
3. Show that the distribution is approximately normal.  

## Simulation ##

We assume X to be an exponential distribution with lambda $\lambda$ = 0.2, therefore $\mu$ = 1/$\lambda$ and sd = 1/$\lambda$

```{r, echo=FALSE}
set.seed(100)
#exponential distribution
lambda <- 0.2
distr_size <- 1000
exponentials <- rexp(distr_size, rate = lambda)
#matrix of 1000 simulations of samples of size 40
n_sim <- 1000
sample_size <- 40
m <- matrix(rexp(n_sim*sample_size, rate = lambda), nrow = n_sim, ncol = sample_size)
#vector of 1000 averages of samples
sample_averages <- apply(m, 1, mean)
```
### Theoretical versus sample mean ###

In the exponential distribution the theoretical mean is $\mu$ = 1/$\lambda$, that is: 
```{r,echo=FALSE}
mu <- 1/lambda
mu
```
The sample mean \bar{X} is very close to the theoretical value and it is:
```{r,echo=FALSE}
mean(sample_averages)
```

### Theoretical versus sample variance ###
The theoretical variance of the exponential distribution is Var[X] = 1/$\lambda^{2}$, that is: 
```{r,echo=FALSE}
1/(lambda^2)
```
The sample variance Var[$\bar{X}$] is:
```{r,echo=FALSE}
var(sample_averages)
```




```{r}
sample_averages_norm <- (sample_averages - mu)/var(sample_averages)#normalisation of the averages of samples
hist(sample_averages_norm, breaks = 50, col = "grey", prob = TRUE)
lines(density(sample_averages_norm), col = "blue", lwd = 2)
abline(v=mean(sample_averages_norm), col="red", lwd = 3)
lines(density(rnorm(100000)), lty = 2, col = "darkgreen")
```







